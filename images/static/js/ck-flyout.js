var current_ajax;function open_cart_flyout(){jQuery("#cart-flyout").animate({right:"0"},"fast");jQuery("#flyout-darken-back").fadeIn("fast");jQuery("#cart-flyout").width()==jQuery(window).width()?(jQuery("#ck-topnav").toggle(),jQuery("html").css("overflow-y","hidden")):jQuery("html").css("overflow-y","auto")}function close_cart_flyout(){jQuery("#cart-flyout").animate({right:"-110%"},"slow");jQuery("#flyout-darken-back").fadeOut()}
jQuery("#cart-flyout-icon").on("click",function(){initial_cart_load();open_cart_flyout()});jQuery("#close-cart-flyout").on("click",function(){close_cart_flyout()});function initial_cart_load(){current_ajax&&current_ajax.abort();current_ajax=jQuery.ajax({url:"/cart-flyout",dataType:"json",data:{ajax:1},type:"POST",success:function(a){0!=a.success&&cart_flyout(a)}})}
function cart_flyout(a){var b="";jQuery("#cart-flyout-products").empty();a.cart_content?0<a.cart_content.length&&(jQuery(".cart-items-count").show(),a.cart_content.forEach(function(a){b+='<div class="cart-flyout-section" id="product-'+a.cart_product_id+'">\n\t\t\t\t\t<div class="cart-flyout-product">\n\t\t\t\t\t\t<i class="fa fa-times delete-product-from-cart" data-cart-product-id="'+a.cart_product_id+'"></i>\n\t\t\t\t\t\t<div class="cart-flyout-organize"><div class="has-included-items"><div class="image-plus-content">\n\t\t\t\t\t\t<a href="'+
a.product_url+'">\n\t\t\t\t\t\t\t<img class="cart-flyout-product-image" src="'+a.media+"/"+a.products_image+'">\n\t\t\t\t\t\t</a>\n\t\t\t\t\t<div class="cart-flyout-content">\n\t\t\t\t\t\t<a href="'+a.product_url+'"><div class="content-products-model">'+a.products_model+'</div></a>\n\t\t\t\t\t\t<div class="content-products-title">'+a.products_name+"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>";a.has_included_options&&(b+='<div class="cart-flyout-included-products">',a.included_options.forEach(function(a){b+=
'<div class="included-option-note">'+a.name+" - included</div>"}),b+="</div>");b+="</div><div>";b=a.product_on_special?b+('<div class="cart-flyout-special-price"><div class="price-original product-price">'+a.products_price_original+'</div><div class="price-special">'+a.products_price_display+"</div></div>"):b+('<div class="cart-flyout-price"><div class="price-display product-price">'+a.products_price_display+'</div><span class="each-item">ea</span></div>');b+='</div></div></div>\n\t\t\t\t<div class="quantity-subtotal">\n\t\t\t\t\t<div class="quantity-button-container">\n\t\t\t\t\t\t<button class="quantity-button-minus adjust-quantity-button" id="quantity-button-number-minus-'+
a.cart_product_id+'" data-cart-product-id="'+a.cart_product_id+'" data-adjust-quantity-action="decrement" data-products-id="'+a.products_id+'" data-current-quantity="'+a.products_quantity+'">\n\t\t\t\t\t\t\t<i class="fas fa-minus"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<input class="quantity-button-number" id="quantity-button-input-'+a.cart_product_id+'" data-cart-product-id="'+a.cart_product_id+'" data-current-quantity="'+a.products_quantity+'" data-products-id="'+a.products_id+'" value="'+a.products_quantity+
'">\n\t\t\t\t\t\t<button class="quantity-button-plus adjust-quantity-button" id="quantity-button-number-plus-'+a.cart_product_id+'"  data-cart-product-id="'+a.cart_product_id+'" data-adjust-quantity-action="increment" data-products-id="'+a.products_id+'" data-current-quantity="'+a.products_quantity+'">\n\t\t\t\t\t\t\t<i class="fas fa-plus"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="subtotal-flyout-section"><span class="line-item-desc">Item Total</span><span class="line-item-subtotal">'+
a.line_subtotal+"</span></div>\n\t\t\t\t</div>";b+='<div class="product_options">';a.product_options&&a.product_options.forEach(function(a){b+='<div class="cart-flyout-product">\n\t\t\t\t\t\t\t<i class="fa fa-times delete-product-from-cart" data-cart-product-id="'+a.cart_product_id+'"></i>\n\t\t\t\t\t\t\t<div class="cart-flyout-organize">\n\t\t\t\t\t\t\t\t<div class="has-included-items">\n\t\t\t\t\t\t\t\t\t<div class="image-plus-content">\n\t\t\t\t\t\t\t\t\t\t<a href="'+a.product_url+'">\n\t\t\t\t\t\t\t\t\t\t\t<img class="cart-flyout-product-image" src="'+
a.media+"/"+a.products_image+'">\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t<div class="cart-flyout-content">\n\t\t\t\t\t\t\t\t\t\t\t<a href="'+a.product_url+'">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="content-products-model">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style="color:#000000; font-weight:bold;">Option: </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t'+a.products_model+'\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t<div class="content-products-title">'+a.products_name+
"</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>";a.has_included_options&&(b+='<div class="cart-flyout-included-products">',a.included_options.forEach(function(a){b+='<div class="included-option-note">'+a.name+" - included</div>"}),b+="</div>");b+="</div><div>";b=a.product_on_special?b+('<div class="cart-flyout-special-price">\n\t\t\t\t\t\t\t\t\t<div class="price-original product-price">'+a.products_price_original+'</div>\n\t\t\t\t\t\t\t\t\t<div class="price-special">'+a.products_price_display+
"</div>\n\t\t\t\t\t\t\t\t</div>"):b+('<div class="cart-flyout-price">\n\t\t\t\t\t\t\t\t\t<div class="price-display product-price">'+a.products_price_original+"</div>\n\t\t\t\t\t\t\t\t</div>");b+='</div></div></div>\n\t\t\t\t\t\t\t\t<div class="quantity-button-container">\n\t\t\t\t\t\t\t\t\t<button class="quantity-button-minus adjust-quantity-button" id="quantity-button-number-minus-'+a.cart_product_id+'" data-cart-product-id="'+a.cart_product_id+'" data-adjust-quantity-action="decrement" data-products-id="'+
a.products_id+'" data-parent-products-id="'+a.parent_products_id+'" data-option-type="'+a.option_type+'" data-current-quantity="'+a.products_quantity+'">\n\t\t\t\t\t\t\t\t\t\t<i class="fas fa-minus"></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<input class="quantity-button-number" id="quantity-button-input-'+a.cart_product_id+'" data-cart-product-id="'+a.cart_product_id+'" data-current-quantity="'+a.products_quantity+'" data-products-id="'+a.products_id+'" value="'+a.products_quantity+'" data-parent-products-id="'+
a.parent_products_id+'" data-option-type="'+a.option_type+'">\n\t\t\t\t\t\t\t\t\t<button class="quantity-button-plus adjust-quantity-button" id="quantity-button-number-plus-'+a.cart_product_id+'"  data-cart-product-id="'+a.cart_product_id+'" data-adjust-quantity-action="increment" data-products-id="'+a.products_id+'" data-parent-products-id="'+a.parent_products_id+'" data-option-type="'+a.option_type+'" data-current-quantity="'+a.products_quantity+'">\n\t\t\t\t\t\t\t\t\t\t<i class="fas fa-plus"></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>'});
b+="</div></div>"})):(jQuery("#cart-flyout-products").append('<div id="cart-flyout-empty-cart">\n\t\t\t<div>You have no products in your cart. Let\'s get to shopping!</div>\n\t\t\t<i class="far fa-people-carry"></i>\n\t\t</div>'),jQuery(".cart-items-count").hide());jQuery("#cart-flyout-total-cost").html(a.cart_totals.display);jQuery("#cart-flyout-total-cost").attr("data-raw-total",a.cart_totals.raw_total);update_shipping_progress_bar(a.cart_totals.raw_total,a.free_shipping_eligible);b&&jQuery("#cart-flyout-products").append(b);
open_cart_flyout()}
function update_shipping_progress_bar(a,b){if(void 0===b||b){jQuery("#free-shipping-eligible").show();jQuery("#free-shipping-not-eligible").hide();var c=0;null!=a&&0<a&&(c=a+1);100<c?(c=100,jQuery("#free-shipping-animation").slideDown(),jQuery("#progress-bar-title").hide()):(jQuery("#free-shipping-animation").hide(),jQuery("#progress-bar-title").show());jQuery("#shipping-progress-bar").css("width",c+"%")}else jQuery("#free-shipping-eligible").hide(),jQuery("#free-shipping-not-eligible").show()}
function update_quantity(a){current_ajax&&current_ajax.abort();var b,c;a.attr("data-parent-products-id")&&(b=a.attr("data-parent-products-id"));a.attr("data-option-type")&&(c=a.attr("data-option-type"));var d=a.attr("data-cart-product-id");a.attr("data-adjust-quantity-action");var f=a.attr("data-current-quantity"),e=a.val(),g=a.attr("data-products-id");isNaN(e)||0>e?a.css("background-color","red"):Number(f)!=Number(e)&&(current_ajax=jQuery.ajax({url:"/cart-flyout",dataType:"json",data:{ajax:1,cart_product_id:d,
action:"update-product-quantity",quantity:e,products_id:g,parent_products_id:b,option_type:c},type:"POST",success:function(a){0!=a.success&&(cart_flyout(a),jQuery("#quantity-button-input-"+d).css("background-color","#90EE90"),setTimeout(function(){jQuery("#quantity-button-input-"+d).css("background-color","#ffffff")},1E3))}}))}
jQuery(".delete-product-from-cart").live("click",function(){var a=jQuery(this).attr("data-cart-product-id");current_ajax&&current_ajax.abort();current_ajax=jQuery.ajax({url:"/cart-flyout",dataType:"json",data:{ajax:1,cart_product_id:a,action:"remove-product"},type:"POST",success:function(a){0!=a.success&&cart_flyout(a)}})});jQuery(".quantity-button-number").live("blur",function(){update_quantity(jQuery(this))});jQuery(".quantity-button-number").live("keypress",function(a){13==a.which&&update_quantity(jQuery(this))});
jQuery(".adjust-quantity-button").live("click",function(){current_ajax&&current_ajax.abort();var a=0,b,c;jQuery(this).attr("data-parent-products-id")&&(b=jQuery(this).attr("data-parent-products-id"));jQuery(this).attr("data-option-type")&&(c=jQuery(this).attr("data-option-type"));var d=jQuery(this).attr("data-cart-product-id"),f=jQuery(this).attr("data-adjust-quantity-action"),e=jQuery(this).attr("data-current-quantity"),g=jQuery(this).attr("data-products-id");"increment"==f?a=Number(e)+1:"decrement"==
f&&(a=Number(e)-1);current_ajax=jQuery.ajax({url:"/cart-flyout",dataType:"json",data:{ajax:1,cart_product_id:d,action:"update-product-quantity",quantity:a,products_id:g,parent_products_id:b,option_type:c},type:"POST",success:function(a){0!=a.success&&(cart_flyout(a),jQuery("#quantity-button-input-"+d).css("background-color","#90EE90"),setTimeout(function(){jQuery("#quantity-button-input-"+d).css("background-color","#ffffff")},1E3))}})});
function add_product_to_cart(){ck.ajaxify.form(jQuery(".add-to-cart-form"),function(a){a.success&&cart_flyout(a)},function(a,b,c){"abort"==b?jQuery(".main-body-inner-container").animate({backgroundColor:"transparent"},500,"swing"):jQuery("#add-to-cart-result").addClass("failure").html("There was a problem adding this item to your cart.")},function(){jQuery("#add-to-cart-result").removeClass("success").removeClass("failure")})}add_product_to_cart();
jQuery("#ck-new-search-bar-button").on("click",function(){jQuery("#ck-new-mobile-search-bar-container").slideToggle();jQuery("#ck-new-mobile-search-bar-container input").focus()});jQuery(".slide-down-button").on("mouseover",function(){var a=jQuery(this).data("type");jQuery("#"+a+"-slide-down").slideDown("fast")});jQuery(".slide-down-container").on("mouseleave",function(){var a=jQuery(this).data("type");jQuery("#"+a+"-slide-down").slideUp("fast")});
jQuery(".menu-button").on("click",function(){jQuery("html").toggleClass("nav_visible");jQuery("#ck-new-mobile-search-bar-container").hide()});jQuery(document).on("click",function(a){jQuery(a.target).closest("#cart-flyout, #cart-flyout-icon").length||close_cart_flyout()});