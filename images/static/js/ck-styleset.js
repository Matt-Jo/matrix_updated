var ck=ck||{};ck.styleset=function(a,b){this.name=a;this.id="ck-"+a+"-styles";this.opts=b||{};this.styles={};this.$styleset=jQuery('<style id="'+this.id+'"></style>');this.$styleset.appendTo("head");this.selector_context=null;this.auto_render=!1;this.render()};ck.styleset.prototype.auto_render=function(a){this.auto_render=a?!0:!1;return this};ck.styleset.prototype.option=function(a,b){if(void 0==b)return this.opts[a];this.opts[a]=b;this.auto_render&&this.render();return this};
ck.styleset.prototype.add_selector=function(a,b){void 0==this.styles[a]&&(this.styles[a]={});b||this.set_context(a);this.auto_render&&this.render();return this};ck.styleset.prototype.remove_selector=function(a){delete this.styles[a];this.clear_context();this.auto_render&&this.render();return this};ck.styleset.prototype.set_context=function(a){this.selector_context=a;return this};ck.styleset.prototype.in_context=function(){return null!=this.selector_context};
ck.styleset.prototype.clear_context=function(){this.selector_context=null;return this};ck.styleset.prototype.add_stylestring=function(a,b){void 0==b&&this.in_context()&&(b=a,a=this.selector_context);b=b.split(/\s*;\s*/);for(var c=0;c<b.length;c++)style=b[c].split(/\s*:\s*/,2),1==style.length?this.remove_style(a,style[0]):this.add_style(a,style[0],style[1]);this.auto_render&&this.render();return this};
ck.styleset.prototype.add_style=function(a,b,c){void 0==c&&this.in_context()?(c=b,b=a,a=this.selector_context):this.add_selector(a,!0);this.styles[a][b]=c;this.auto_render&&this.render();return this};ck.styleset.prototype.remove_style=function(a,b){void 0!=this.styles[a]&&delete this.styles[a][b];this.auto_render&&this.render();return this};
ck.styleset.prototype.render=function(){for(var a=0;a<this.$styleset[0].attributes.length;a++)"id"!=this.$styleset[0].attributes[a].nodeName&&void 0==this.opts[this.$styleset[0].attributes[a].nodeName]&&this.$styleset.removeAttr(this.$styleset[0].attributes[a].nodeName);for(var b in this.opts)this.$styleset.attr(b,this.opts[b]);var a=[],c;for(c in this.styles)if(this.styles.hasOwnProperty(c)){b=[];for(var d in this.styles[c])this.styles[c].hasOwnProperty(d)&&b.push(d+": "+this.styles[c][d]);a.push(c+
" { "+b.join("; ")+" }")}this.$styleset.html(a.join("\n"));this.clear_context();return this};