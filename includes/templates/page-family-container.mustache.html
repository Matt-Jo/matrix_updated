<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<!--link href="/includes/javascript/simplemodal.css" rel="stylesheet" type="text/css" media="screen"/>
<script src="/includes/javascript/jquery.simplemodal.1.4.3.min.js" type="text/javascript"></script-->
<link href="/includes/javascript/cloud-zoom.css" rel="stylesheet" type="text/css" media="screen">
<script src="/includes/javascript/cloud-zoom.js?v=1.0.1" type="text/javascript"></script>
<style>
	#wrap { z-index:999 !important; }

	.main-body-container.template-product { background-color:#f1f1f1; padding:10px; border-style:solid; border-color:#cecece; border-width:0px 1px 2px 1px; overflow:auto; }
	.template-product .main-body-inner-container { padding:0px 10px; }
	.template-product .breadcrumbs { margin-bottom:0px; }

	.main-body-container.template-product.admin-only { background-color:#bbb; }
	#admin-only { font-size:20px; text-align:center; color:#d22842; font-weight:bold; margin-bottom:10px; }

	#product-interactive { position:relative; }

	#product-header { float:right; width:500px; }
	#model-number { font-size:14px; margin-bottom:5px; }
	#item-name { font-size:28px; font-weight:bold; color:#325b6f; margin:0px; line-height:1em; }
	#reviews-and-questions { margin-top:5px; white-space:nowrap; }
	#reviews-and-questions .yotpo { float:left; padding:1px; clear:none; }
	#reviews-and-questions .qa { margin-left:20px; }

	#product-images { float:left; max-width:640px; }
	#product-hero { background-color:#fff; border:2px solid #cecece; border-radius:10px; padding:3px 8px; text-align:center; }
	#product-hero img { max-width:100%; margin:0px auto; }
	#image-carousel { margin-top:20px; text-align:center; }

	#product-buy { float:right; width:500px; }
	#summary { font-size:14px; margin-top:8px; }

	/*#view-selection-options { margin-top:25px; border:0px; display:none; }
	#selection-options { border:1px solid #cecece; background-color: #fff; padding:8px; margin:0px; display:none; }*/
	#included-options { color:#777; font-style:italic; display:inline; padding:0px; margin:0px; }
	#included-options li { display:inline; list-style-type:none; margin-right:3px; }
	#included-options li a { color:#777; text-decoration:underline; }
	#extra-options { margin:10px 0px 0px 0px; padding:0px; }
	#extra-options-list { padding:0px; margin:0px; }
	#extra-options-list li { list-style-type:none; }
	#extra-options-list li a { color:#000; text-decoration:underline; }
	#cart-control { margin:7px 0px 0px 0px; font-weight:bold; }
	#qty-label { margin-left:18px; }
	#product-quantity { font-size:16px; font-weight:bold; height:51px; width:40px; border:3px solid #8BAD1E; border-radius:3px; position:relative; padding-left:10px; margin-right:10px; vertical-align:top; margin-top:8px; }
	#add-to-cart { position:relative; max-width:100%; margin-top:8px; }
	#add-to-cart-result { display:none; font-size:15px; font-weight:bold; text-align:center; position:relative; top:10px; }
	#add-to-cart-result.success { display:block; color:#3c3; }
	#add-to-cart-result.failure { display:block; color:#c33; }

	#product-info { position:relative; margin-top:16px; }
	#product-info-nav { display:inline-block; margin:0px; padding:0px 0px 0px 40px; }
	#product-info-nav li { list-style-type:none; display:inline-block; margin:0px; padding:0px; }
	.product-info-tab { display:block; background-color:#315669; color:#fff; font-weight:bold; text-decoration:none; font-size:16px; padding:4px 22px 3px 22px; margin:0px 1px 0px 0px; }
	.product-info-tab:hover { color:#fff; text-decoration:none; }
	#product-info-nav li:first-child .product-info-tab { border-top-left-radius:5px; }
	#product-info-nav li:last-child .product-info-tab { border-top-right-radius:5px; }
	#product-info-container { background-color:#fff; border:2px solid #cecece; border-radius:10px; padding:20px; font-size:14px; }
	.product-info-header { display:block; font-size:24px; color:#315669; margin:5px 10px 0px 10px; border-bottom:1px solid #ccc; font-weight:bold; padding-bottom:10px; }
	.product-info-back { float:right; color:#3b8baa; margin:3px 10px 0px 0px; }
	.product-info-content { clear:both; margin-bottom:20px; /*padding-bottom:10px; border-bottom:1px solid #ccc;*/ }
	.warranty-subhead { display:block; font-size:1.17em; margin:1em 0; }

	#pinfo-details th { text-align:left; padding-right:20px; }

	.main-body-inner-container.fade { opacity:0.25; }
	#add-current-to-cart.fade { opacity:0.25; }

	@media (max-width:1200px) {
		#product-images { width:51%; }
		#product-header { width:47%; margin-left:10px; }
		#product-buy { width:47%; margin-left:10px; }
	}

	@media (max-width:1000px) {
		.main-body-container.template-product { padding:10px 0px; }
	}

	@media (max-width:980px) {
		#qty-label { margin-left:13px; }
		#product-quantity { height:40px; width:34px; padding-left:5px; margin-right:5px; }
		#add-to-cart { margin-top:10px; }
	}

	@media (max-width:767px) {
		#product-header, #product-images, #product-buy { float:none; width:auto; }
		#product-header { margin-bottom:10px; }
		#product-hero img { max-height:333px; }
		#summary { margin-top:10px; }

		#product-info-nav { display:none; }

		.product-info-header { cursor:pointer; border-bottom-width:0px; }
		.product-info-header:before { content: '[+] '; }
		#product-info-container .show .product-info-header:before { content: '[-] '; }
		.product-info-back { display:none; }
		.product-info-content { display:none; }
		#product-info-container .show .product-info-content { display:block; }
	}

	/* the follow css was provided by yotpo to hide the star rating when no reviews exist*/
	@keyframes nodeInserted {
		from { outline-color:#fff; }
		to { outline-color:#000; }
	}
	div.yotpo.bottomLine .star-clickable {
		animation-duration: 0.01s;
		animation-name:nodeInserted;
	}
</style>
<div class="main-body-container template-product {{#admin-only}}admin-only{{/admin-only}}">
	<div class="tools breadcrumbs" id="breadcrumbs">{{{breadcrumbs}}}</div>
	<div class="main-body-inner-container">
		{{#admin-only}}
		<div id="admin-only">This Page is Admin Only</div>
		{{/admin-only}}
		<div id="product-interactive">
			<div id="product-header">
				<div id="model-number">
					Model #: <span id="model-number-field">{{model_number}}</span>
				</div>
				<h1 class="itemDescription" id="item-name">{{title}}</h1>

				<div id="reviews-and-questions">
					<div class="yotpo rv bottomLine" data-appkey="{{yotpo.appkey}}" data-domain="cablesandkits.com" data-product-id="{{products_id}}" data-product-models="{{model_number}}" data-name="{{attribute_safe.name}}" data-url="{{review_url}}" data-image-url="{{cdn}}/{{images.0.image_large}}" data-description="{{attribute_safe.summary}}" data-bread-crumbs="{{attribute_safe.breadcrumbs}}"></div>
					<div class="yotpo qa QABottomLine" data-appkey="{{yotpo.appkey}}" data-product-id="{{products_id}}"></div>

					<div class="clearfix"></div>
				</div>
			</div>

			<div id="product-images">
				<div id="product-hero">
					<a href="{{cdn}}/{{images.0.image_large}}" class="cloud-zoom" id="Zoomer" rel="zoomWidth: 450, zoomHeight: 333, adjustX: 13"><img src="{{cdn}}/{{images.0.image_large}}" title="{{attribute_safe.name}}" alt="{{attribute_safe.name}}"></a>
				</div>

				<div id="image-carousel">
					{{#images}}
					<a href="{{cdn}}/{{image_large}}" class="cloud-zoom-gallery" rel="useZoom: 'Zoomer', smallImage: '{{cdn}}/{{image_large}}'"><img src="{{cdn}}/{{image_thumb}}" title="{{attribute_safe.name}}" alt="{{attribute_safe.name}}"></a>
					{{/images}}
				</div>
			</div>

			<div id="product-buy">
				<div id="summary">{{summary}}</div>

				{{#offer_template}}
					{{.}}
				{{/offer_template}}
				{{^offer_template}}
					{{>partial-family-container-offer-default.mustache.html}}
				{{/offer_template}}

				<div id="add-current-to-cart">
					<form method="post" action="/cart-flyout" class="add-to-cart-form">
						<input type="hidden" name="action" value="add-product">
						<input type="hidden" id="products_id" name="products_id" value="{{products_id}}">
						<input type="hidden" value="{{discontinued}}" data-currentcart="{{cart_quantity}}" data-maxqty="{{display_available}}">
						<div id="cart-control">
							<span id="qty-label">Qty</span><br>
							<input type="text" maxlength="4" name="quantity" value="1" id="product-quantity" aria-label="Quantity">
							<input type="image" src="{{static_files}}/img/add-to-cart-v2.png" alt="Add To Cart" id="add-to-cart">
						</div>
					</form>
				</div>

				<div id="add-to-cart-result">
				</div>
			</div>

			<div class="clearfix"></div>
		</div>
		<div id="product-info">
			<ul id="product-info-nav">
				<li><a href="#description" class="product-info-tab" data-tab-id="description">Description</a></li><!-- remove rendered spaces
				--><li><a href="#details" class="product-info-tab" data-tab-id="details">Details</a></li><!--
				--><li><a href="#warranty" class="product-info-tab" data-tab-id="warranty">Warranty</a></li><!--
				--><li><a href="#reviews" class="product-info-tab" data-tab-id="reviews">Reviews</a></li><!--
				--><li><a href="#qa" class="product-info-tab" data-tab-id="qa">Q & A</a></li>
			</ul>
			<div id="product-info-container">
				<div id="description">
					<strong class="product-info-header" data-tab-id="description">Description</strong>
					<a href="#product-info" data-tab-id="product-info" class="product-info-back"><img src="{{static_files}}/img/blue_top_arrow.png" aria-hidden="true" alt=""> Back to top</a>
					<div class="product-info-content">
						{{{description}}}
					</div>
				</div>
				<div id="details">
					<strong class="product-info-header" data-tab-id="details">Details</strong>
					<a href="#product-info" data-tab-id="product-info" class="product-info-back"><img src="{{static_files}}/img/blue_top_arrow.png" aria-hidden="true" alt=""> Back to top</a>
					<div class="product-info-content">
						{{{details}}}
					</div>
				</div>
				<div id="warranty">
					<strong class="product-info-header" data-tab-id="warranty">Warranty</strong>
					<a href="#product-info" data-tab-id="product-info" class="product-info-back"><img src="{{static_files}}/img/blue_top_arrow.png" aria-hidden="true" alt=""> Back to top</a>
					<div class="product-info-content">
						<strong class="warranty-subhead">Awesome is GUARANTEED.</strong>
						<p>Risk Free Purchase, Hassle Free Returns. AWESOME is GUARANTEED </p>
						<p>After receiving your order, take a full month to try it out. If you decide it's not right for you, or if you're not completely satisfied in every way - if it's not AWESOME, we'll take it back and refund your money. Your complete satisfaction is GUARANTEED or your money back. That's Awesome.</p>
						<strong class="warranty-subhead">Awesome That Never Ends.</strong>
						<p>Everything you purchase from CablesAndKits is covered by a LIFETIME Warranty including a LIFETIME Advance Replacement Guarantee. The AWESOME never ends.</p>
						<p>We understand that in the event of a product malfunction or failure long downtimes are not an option. If you experience a malfunction or failure with a product at any point during your ownership we'll ship a replacement the same day you report the issue. We'll even expedite the shipment if requested, with an effort to provide a delivery date and time that meets your needs. That's Awesome.</p>
						<p>Terms and Conditions apply. Click <a href="/info/terms-and-conditions" style="color: blue;">here</a> for details.</p>
					</div>
				</div>
				<div id="reviews">
					<strong class="product-info-header" data-tab-id="reviews">Reviews</strong>
					<a href="#product-info" data-tab-id="product-info" class="product-info-back"><img src="{{static_files}}/img/blue_top_arrow.png" aria-hidden="true" alt=""> Back to top</a>
					<div class="product-info-content">
						<div class="yotpo yotpo-main-widget" data-product-id="{{products_id}}" data-name="{{attribute_safe.name}}" data-url="{{review_url}}" data-image-url="{{cdn}}/{{images.0.image_large}}" data-description="{{attribute_safe.summary}}"></div>
					</div>
				</div>
				<div id="qanda">
					<strong class="product-info-header" data-tab-id="qanda">Questions & Answers</strong>
					<a href="#product-info" data-tab-id="product-info" class="product-info-back"><img src="{{static_files}}/img/blue_top_arrow.png" aria-hidden="true" alt=""> Back to top</a>
					<div class="product-info-content">
						<div class="yotpo yotpo-main-widget" data-product-id="{{products_id}}" data-name="{{attribute_safe.name}}" data-url="{{review_url}}" data-image-url="{{cdn}}/{{images.0.image_large}}" data-description="{{attribute_safe.summary}}" data-mode="questions"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

{{#admin?}}
<div id="admin-info-box"></div>
{{/admin?}}

<script>
	jQuery('.product-info-header').click(function() {
		jQuery('#'+jQuery(this).data('tab-id')).toggleClass('show');
	});

	jQuery('.yotpo.rv').click(function() {
		jQuery('.product-info-header[data-tab-id=reviews]').click();
		window.location.hash = '#reviews';
	});

	jQuery('.yotpo.qa').click(function() {
		jQuery('.product-info-header[data-tab-id=qanda]').click();
		window.location.hash = '#qanda';
	});

	ck.ajaxify.form(jQuery('#add-to-cart-form'), function(data) {
		if (data.success) {
			jQuery('.main-body-inner-container').animate({ backgroundColor: '#acfcac' }, {
				duration: 500,
				easing: 'swing',
				complete: function() {
					jQuery('.main-body-inner-container').animate({ backgroundColor: 'transparent' }, 500, 'swing');
				}
			});
			jQuery('#cart-count').text(data.cart_qty);
			jQuery('#add-to-cart-result').addClass('success').html('You have successfully added this item to your cart.<br><a href="/shopping_cart.php">Go To Shopping Cart</a>');
		}
		else {
			jQuery('.main-body-inner-container').animate({ backgroundColor: '#fcacac' }, {
				duration: 500,
				easing: 'swing',
				complete: function() {
					jQuery('.main-body-inner-container').animate({ backgroundColor: 'transparent' }, 500, 'swing');
				}
			});

			jQuery('#add-to-cart-result').addClass('failure').html('There was a problem adding this item to your cart.');
		}
	},
	function(jqXHR, textStatus, errorThrown) {
		if (textStatus == 'abort') {
			jQuery('.main-body-inner-container').animate({ backgroundColor: 'transparent' }, 500, 'swing');
			return;
		}

		jQuery('.main-body-inner-container').animate({ backgroundColor: '#fcacac' }, {
			duration: 500,
			easing: 'swing',
			complete: function() {
				jQuery('.main-body-inner-container').animate({ backgroundColor: 'transparent' }, 500, 'swing');
			}
		});

		jQuery('#add-to-cart-result').addClass('failure').html('There was a problem adding this item to your cart.');

		// make cart note a failure notice
	},
	function() {
		jQuery('.main-body-inner-container').css('background-color', '#fcfcac');
		jQuery('#add-to-cart-result').removeClass('success').removeClass('failure');
	});

	/* this block hides the star rating from a product when no reviews exist */
	document.addEventListener('animationstart', function (event) {
		if (event.animationName == 'nodeInserted') {
			var ratingContent = jQuery('.yotpo a.text-m').text();
			if (ratingContent.includes('Write')) {
				jQuery('.yotpo.bottomLine').hide();
			}
		}
	}, true);
</script>

{{#admin?}}
<link href="/includes/javascript/simplemodal.css" rel="stylesheet" type="text/css" media="screen">
<script src="/includes/javascript/jquery.simplemodal.1.4.3.min.js" type="text/javascript"></script>
<script>
	var astyles = new ck.styleset('admin-styles');
	astyles.add_selector('#model-number-field').add_stylestring('cursor:pointer;');
	astyles.add_selector('#model-number-field:hover').add_stylestring('color:#abd; text-decoration:underline;');
	astyles.render();

	jQuery('#model-number-field').click(function(e) {
		e.preventDefault();

		jQuery.ajax({
			url: '/admin/isAdmin.php',
			type: 'GET',
			dataType: 'html',
			data: {},
			success: function(data) {
				// this just returns the logged in ID
				if (parseInt(data) != data) {
					alert('Could not confirm your permissions to access IPN info');
					return;
				}

				jQuery.ajax({
					url: '/admin/ipn_getIPNInfoForProduct.php',
					type: 'GET',
					dataType: 'html',
					data: { products_id: jQuery('#products_id').val() },
					success: function(data) {
						jQuery('#admin-info-box').html(data);

						if (jQuery('#par_avl_qty').html() != undefined && jQuery('#adj_avl_qty').html() != undefined) {
							jQuery('#available_qty_container').height(60).append('<ul style="margin-top: 5px; list-style-type: none;"><li>Parent Available Qty: <b>'+jQuery('#par_avl_qty').html()+'</b></li><li>Adjusted Available Qty: <b>'+jQuery('#adj_avl_qty').html()+'</b></li></ul>');
						}

						jQuery('#wrap').css('z-index', '0');
						jQuery('#nav').css('z-index', '0');

						jQuery('#admin-info-box').css('z-index', '50000');
						jQuery('#admin-info-box').modal({
							containerCss: { backgroundColor:'#fff', borderColor:'#fff', height:340, padding:0, width:330 },
							onClose: function(dialog) {
								jQuery('#nav').css('z-index', '30000');
								jQuery.modal.close();
							},
							overlayClose:true
						});
					},
					error: function() {
						alert('Could not contact CablesAndKits.com Administration');
					}
				});
			},
			error: function() {
				alert('Could not contact CablesAndKits.com Administration');
			}
		});
	});
</script>
{{/admin?}}
